<!doctype html>
<!--
* Tabler - Premium and Open Source dashboard template with responsive and high quality UI.
* @version 1.0.0-beta5
* @link https://tabler.io
* Copyright 2018-2022 The Tabler Authors
* Copyright 2018-2022 codecalm.net Paweł Kuna
* Licensed under MIT (https://github.com/tabler/tabler/blob/master/LICENSE)
-->
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Yes Aladin!</title>
    <!-- CSS files -->
    <link th:href="@{/css/tabler.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/tabler-flags.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/tabler-payments.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/tabler-vendors.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/demo.min.css}" rel="stylesheet"/>

    <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />
    <script>
        $(document).ready( function() {
            $('.multiple-items').slick({
                infinite: true,
                slidesToShow: 4,
                slidesToScroll: 4,
                dots: true,
                autoplay: true,
                autoplaySpeed: 5000,
                draggable: true,
                pauseOnHover : true
            });
        } );
    </script>
</head>
<body>
<!-- Libs JS -->
<script type="text/javascript" th:src="@{/libs/apexcharts/dist/apexcharts.min.js}"></script>
<!-- Tabler Core -->
<script type="text/javascript" th:src="@{/js/tabler.min.js}"></script>
<script type="text/javascript" th:src="@{/js/demo.min.js}"></script>

<div class="wrapper">
    <!-- TODO 1 : HEADER -->
    <div th:replace="~{common/fragments/header :: fragment-header}"></div>

    <!-- TODO 2 : NAV-BAR -->
    <div th:replace="~{common/fragments/navbar :: fragment-nav-bar}"></div>

    <div th:replace="~{common/utils/search-bar :: util-search-bar}"></div>
    <!-- TODO 3: BODY -->
    <div class="page-body container-xl">
        <div class="row">
            <div class="col-9">
                <div class="card px-2 pb-2">
                    <div class="ribbon bg-yellow rounded-start">BEST</div>
                    <h2 class="align-content-center text-center mb-0 mt-3">베스트셀러</h2>
                    <div class="multiple-items col-12">
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/1.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/2.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/3.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/4.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/5.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%82%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%92%E1%85%A1%E1%84%85%E1%85%AE%E1%84%80%E1%85%A1%20%E1%84%84%E1%85%A1%E1%84%89%E1%85%AE%E1%86%B8%E1%84%80%E1%85%B5%E1%86%AF%20%E1%84%87%E1%85%A1%E1%84%85%E1%85%A1.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%82%E1%85%A9%E1%86%BC%E1%84%80%E1%85%AE.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%85%E1%85%B5%E1%84%83%E1%85%A5%E1%84%8B%E1%85%A6%E1%84%80%E1%85%A6.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%87%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A9%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%AA%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%89%E1%85%B3%E1%86%AF%E1%84%91%E1%85%B3%E1%86%B7%E1%84%8B%E1%85%B4%E1%84%87%E1%85%A1%E1%86%BC%E1%84%86%E1%85%AE%E1%86%AB.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%8B%E1%85%A7%E1%86%A8%E1%84%89%E1%85%A1%E1%84%90%E1%85%A1%E1%86%B7%E1%84%8C%E1%85%A5%E1%86%BC.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                        <div class="card m-3" >
                            <!-- Photo -->

                            <div class="img-responsive img-responsive-3x4 card-img-top"
                                 style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%8C%E1%85%A1%E1%86%B8%E1%84%8C%E1%85%B5.jpeg')"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1">잘 될거야</h3>
                                <p class="text-muted mb-1">수정 저 | 수정하우스</p>
                                <strong>20,000원</strong>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card px-2 pb-2" style="margin-top: 18px;">
                    <div class="ribbon bg-red rounded-start">NEW</div>
                    <h2 class="align-content-center text-center mb-0 mt-3">신간</h2>
                    <div id="new-product-list" class="multiple-items col-12">
                        <div class="card m-3" th:each="recentProduct: ${recentProductList}">
                            <div class="img-responsive img-responsive-3x4 card-img-top" th:style="'background-image: url(' + ${recentProduct.thumbnailFileUrl} + ');'"></div>
                            <div class="card-body">
                                <h3 class="card-title mb-1" style="text-overflow:ellipsis; white-space: nowrap; overflow: hidden" th:text="${recentProduct.title}"></h3>
                                <p class="text-muted mb-1" th:text="${recentProduct.author[0]} + '저 | ' + ${recentProduct.publisher}">수정 저 | 수정하우스</p>
                                <strong th:text="${recentProduct.sellingPrice}"></strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="sticky-top" style="height: 300px; top: 30px;">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hourglass" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M6.5 7h11"></path>
                                    <path d="M6.5 17h11"></path>
                                    <path d="M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z"></path>
                                    <path d="M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z"></path>
                                </svg> 최근 본 상품</h3>
                            <div id="recent-view-product-list" class="row">
                                <div class="col-4">
                                    <div class="img-responsive img-responsive-3x4 card-img-top"
                                         style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%8C%E1%85%A1%E1%86%B8%E1%84%8C%E1%85%B5.jpeg')"></div>
                                </div>
                                <div class="col-4">
                                    <div class="img-responsive img-responsive-3x4 card-img-top"
                                         style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/%E1%84%89%E1%85%B3%E1%86%AF%E1%84%91%E1%85%B3%E1%86%B7%E1%84%8B%E1%85%B4%E1%84%87%E1%85%A1%E1%86%BC%E1%84%86%E1%85%AE%E1%86%AB.jpeg')"></div>
                                </div>
                                <div class="col-4">
                                    <div class="img-responsive img-responsive-3x4 card-img-top"
                                         style="background-image: url('https://api-storage.cloud.toast.com/v1/AUTH_fcb81f74e379456b8ca0e091d351a7af/yesaladinTest/product/dummy/4.jpeg')"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <h3 class="card-title">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-input-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M19 11v-3a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h5"></path>
                                    <path d="M15.5 15.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0"></path>
                                    <path d="M17.5 17.5l2.5 2.5"></path>
                                </svg> 인기 검색어</h3>
                        <table class="table table-sm table-borderless" style="display: block;">
                            <tbody>
                                <!-- 인기검색어 순위 -->
                                    <tr>
                                        <td>
                                            <a class="text-dark "
                                                    href="http://www.yes24.com/Product/Search?query=%ec%8a%ac%eb%9e%a8%eb%8d%a9%ed%81%ac&amp;domain=ALL" onclick="setWcode('011_003');">
                                                <span class="badge bg-azure">1위</span> <span class="m-1">슬램덩크</span>
                                            </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=%ec%88%98%eb%8a%a5%ed%8a%b9%ea%b0%95&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">2위</span> <span class="m-1">수능특강</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=NCT+DREAM&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">3위</span> <span class="m-1">NCT DREAM</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=%eb%8d%94%eb%b3%b4%ec%9d%b4%ec%a6%88&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">4위</span> <span class="m-1">더보이즈</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=%eb%89%b4%ec%a7%84%ec%8a%a4&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">5위</span> <span class="m-1">뉴진스</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=%eb%b6%80%ec%84%9d%ec%88%9c&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">6위</span> <span class="m-1">부석순</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=%ec%8b%ad%ec%9d%b4%ea%b5%ad%ea%b8%b0&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">7위</span> <span class="m-1">십이국기</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=nct&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">8위</span> <span class="m-1">nct</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=%eb%b8%8c%eb%a1%9c%ec%bb%a4&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">9위</span> <span class="m-1">브로커</span>
                                        </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                        <a class="text-dark "
                                           href="http://www.yes24.com/Product/Search?query=%ed%86%a0%ec%9d%b5&amp;domain=ALL" onclick="setWcode('011_003');">
                                            <span class="badge bg-azure">10위</span> <span class="m-1">토익</span>
                                        </a>
                                        </td>
                                    </tr>
                            </tbody>
                        </table>
                        </div>
                    </div>
                </div>
        </div>
        </div>
    </div>
    <!-- TODO 4 : footer -->
    <div th:replace="~{common/fragments/footer :: fragment-footer}"></div>
</div>
</body>
<script>
    // const table = document.getElementById('new-product-list')
    // window.addEventListener('load', function () {
    //     fetch('/products/recent?page=0&size=12')
    //     .then((res) => (res.json()))
    //     .then(function (data){
    //         data.dataList.forEach(function (product) {
    //             console.log(product.thumbnailFileUrl)
    //             const card = document.createElement('div')
    //             card.className += 'card m-3'
    //             card.addEventListener('click', function () {productDetail(product.id)})
    //             table.appendChild(card)
    //
    //             const img = document.createElement('div')
    //             img.className += 'img-responsive img-responsive-3x4 card-img-top'
    //             img.style.background = 'url("' + product.thumbnailFileUrl + '")'
    //             card.appendChild(img)
    //
    //             const body = document.createElement('div')
    //             body.className += 'card-body'
    //             card.appendChild(body)
    //
    //             const title = document.createElement('h3')
    //             title.className += 'card-title mb-1'
    //             title.innerText = product.title
    //             body.appendChild(title)
    //
    //             const authorAndPublisher = document.createElement('p')
    //             authorAndPublisher.className += 'text-muted mb-1'
    //             authorAndPublisher.innerText = product.authorss + ' | ' + data.publisher
    //             body.appendChild(authorAndPublisher)
    //
    //             const price = document.createElement('strong')
    //             price.innerText = product.sellingPrice
    //             body.appendChild(price)
    //         })
    //     })
    //     .then( () => {
    //         $('#new-product-list').slick({
    //             infinite: true,
    //             slidesToShow: 4,
    //             slidesToScroll: 4,
    //             dots: true,
    //             autoplay: true,
    //             autoplaySpeed: 5000,
    //             draggable: true,
    //             pauseOnHover : true
    //             }
    //         )
    //     })
    // })
</script>

<script>
    // window.addEventListener('load', function () {
    //     fetch('/v1/products/recentview')
    //     .then((res) => (res.json()))
    //     .then(function (data) {
    //         const recentViewProductList = document.getElementById('recent-view-product-list').firstChild
    //         data.dataList.forEach(function (product) {
    //             const col = document.createElement('div')
    //             col.className += 'col-4'
    //             recentViewProductList.appendChild(col)
    //
    //             const img = document.createElement('div')
    //             img.className += 'img-responsive img-responsive-3x4 card-img-top'
    //             img.style.background = 'url("' + product.thumbnailFileUrl + '")'
    //             img.addEventListener('click', function () {productDetail(product.id)})
    //             col.appendChild(img)
    //         })
    //     })
    // })

    function productDetail(id) {
        window.open('/products/'+id, '_self')
    }
</script>
</html>
