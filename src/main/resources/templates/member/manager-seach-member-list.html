<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<h1>관리자 - 회원 관리</h1>
<form method="get" id="search" action="manager-seach-member-list.html">
  <select name="conditions" id="conditions">
    <option value="loginId">아이디</option>
    <option value="nickname">닉네임</option>
    <option value="name">이름</option>
    <option value="phone">전화번호</option>
    <option value="signUpDate">가입일</option>
  </select>
  <input type="text" id="keyword"/>
  <input type="submit"/>
</form>
<h1>리스트</h1><br/>
<table>
  <thead>
    <tr>
      <th>id</th>
      <th>로그인 ID</th>
      <th>닉네임</th>
      <th>이름</th>
      <th>전화번호</th>
      <th>생년월일</th>
      <th>이메일</th>
      <th>성별</th>
      <th>가입일</th>
      <th>탈퇴날</th>
      <th>탈퇴 유무</th>
      <th>밴 유무</th>
      <th>포인트</th>
      <th>등급</th>
    </tr>
  </thead>
  <tbody>
    <tr th:each="m : ${members}">
      <td th:text="${m.id}"></td>
      <td th:text="${m.loginId}"></td>
      <td th:text="${m.birth}"></td>
      <td th:text="${m.email}"></td>
      <td th:text="${m.gender}"></td>
      <td th:text="${m.signUpDate}"></td>
      <td th:text="${m.withdrawalDate}"></td>
      <td th:if="${m.isWithdrawal} == true" th:text="유"></td>
      <td th:if="${m.isWithdrawal} == false" th:text="무"></td>
      <td th:text="${m.isBlocked} == true" th:text="유"></td>
      <td th:text="${m.isBlocked} == false" th:text="무"></td>
      <td th:text="${m.point}"></td>
      <td th:text="${m.grade}"></td>
    </tr>
  </tbody>
</table>
<script>
  const t = document.getElementById('search');
  t.addEventListener('submit', function (event) {
    const select = document.getElementById('conditions');
    const type = select.options[select.selectedIndex].value;
    const keyword = document.getElementById('keyword').value;
    //alert(type + " " + keyword)
    window.open('/v1/members/search?' + type + '=' + keyword)
  })
</script>
</body>
</html>